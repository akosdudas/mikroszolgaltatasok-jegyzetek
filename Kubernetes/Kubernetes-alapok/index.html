
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Dudás Ákos">
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.2">
    
    
      
        <title>Kubernetes alapok - BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.73f7c429.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../extra-material-theme.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kubernetes-alapok" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés" class="md-header-nav__button md-logo" aria-label="BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Kubernetes alapok
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/bmeviauav42/jegyzetek/" title="Főoldalra ugrás" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauav42/jegyzetek
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Tárgy ismertető
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../hazi-feladat/" class="md-tabs__link">
      Házi feladat
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Docker/Docker-alapok/" class="md-tabs__link">
        Docker
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Architektura/AdatbazisApiGateway/" class="md-tabs__link">
        Architektúra
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../DevOps/Nyomkovetes/" class="md-tabs__link">
        DevOps
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Kubernetes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Serverless/serverless/" class="md-tabs__link">
        Serverless
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés" class="md-nav__button md-logo" aria-label="BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés">
      
  <img src="../../logo-bme-aut.png" alt="logo">

    </a>
    BME AUT Mikroszolgáltatások és konténeralapú szoftverfejlesztés
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bmeviauav42/jegyzetek/" title="Főoldalra ugrás" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauav42/jegyzetek
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Tárgy ismertető
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../hazi-feladat/" class="md-nav__link">
      Házi feladat
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      Docker
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Docker" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../Docker/Docker-alapok/" class="md-nav__link">
      Docker alapok
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../Docker/Dockerfile-compose/" class="md-nav__link">
      Dockerfile és docker-compose
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    
    <label class="md-nav__link" for="nav-4">
      Architektúra
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Architektúra" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Architektúra
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../Architektura/AdatbazisApiGateway/" class="md-nav__link">
      Adattárolás és Api Gateway
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../Architektura/Kommunikacio/" class="md-nav__link">
      Kommunikáció
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      DevOps
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="DevOps" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../DevOps/Nyomkovetes/" class="md-nav__link">
      Elosztott nyomkövetés
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../DevOps/Logging-Health-Checks/" class="md-nav__link">
      Naplózás, health check
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../DevOps/Prometheus-monitoring/" class="md-nav__link">
      Prometheus monitorozás Kubernetes-ben
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Kubernetes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Kubernetes alapok
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Kubernetes alapok
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#eloadas" class="md-nav__link">
    Előadás
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cel" class="md-nav__link">
    Cél
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokovetelmenyek" class="md-nav__link">
    Előkövetelmények
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladatok" class="md-nav__link">
    Feladatok
  </a>
  
    <nav class="md-nav" aria-label="Feladatok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elokeszulet-docker-desktop-on" class="md-nav__link">
    Előkészület Docker Desktop-on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl-csatlakozas-a-klaszterhez" class="md-nav__link">
    Kubectl csatlakozás a klaszterhez
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#podok-es-nevterek-listazasa" class="md-nav__link">
    Podok és névterek listázása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-letrehozasa" class="md-nav__link">
    Pod létrehozása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml-leiro-fajl" class="md-nav__link">
    Yaml leíró fájl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-letrehozasa" class="md-nav__link">
    Deployment létrehozása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl-parancsok" class="md-nav__link">
    Kubectl parancsok
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dashboard-es-proxy-zas" class="md-nav__link">
    Dashboard és proxy-zás
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-replicaset-deployment-service-kapcsolata" class="md-nav__link">
    Pod - ReplicaSet - Deployment - Service kapcsolata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-ujrainditasa" class="md-nav__link">
    Pod "újraindítása"
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tovabbi-olvasnivalo" class="md-nav__link">
    További olvasnivaló
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../Kubernetes-alkalmazas-telepites/" class="md-nav__link">
      Alkalmazás telepítése Kubernetes klaszterbe
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../AKS/aks/" class="md-nav__link">
      K8S DevOps Azure DevOps-ban és Azure Kubernetes Service-szel
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
    
    <label class="md-nav__link" for="nav-7">
      Serverless
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Serverless" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Serverless
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../Serverless/serverless/" class="md-nav__link">
      Mikroszolgáltatások serverless architektúra fölött
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#eloadas" class="md-nav__link">
    Előadás
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cel" class="md-nav__link">
    Cél
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elokovetelmenyek" class="md-nav__link">
    Előkövetelmények
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladatok" class="md-nav__link">
    Feladatok
  </a>
  
    <nav class="md-nav" aria-label="Feladatok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elokeszulet-docker-desktop-on" class="md-nav__link">
    Előkészület Docker Desktop-on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl-csatlakozas-a-klaszterhez" class="md-nav__link">
    Kubectl csatlakozás a klaszterhez
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#podok-es-nevterek-listazasa" class="md-nav__link">
    Podok és névterek listázása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-letrehozasa" class="md-nav__link">
    Pod létrehozása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml-leiro-fajl" class="md-nav__link">
    Yaml leíró fájl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-letrehozasa" class="md-nav__link">
    Deployment létrehozása
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubectl-parancsok" class="md-nav__link">
    Kubectl parancsok
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dashboard-es-proxy-zas" class="md-nav__link">
    Dashboard és proxy-zás
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-replicaset-deployment-service-kapcsolata" class="md-nav__link">
    Pod - ReplicaSet - Deployment - Service kapcsolata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-ujrainditasa" class="md-nav__link">
    Pod "újraindítása"
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tovabbi-olvasnivalo" class="md-nav__link">
    További olvasnivaló
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bmeviauav42/jegyzetek/edit/master/docs/Kubernetes/Kubernetes-alapok.md" title="Oldal szerkesztése" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="kubernetes-alapok">Kubernetes alapok<a class="headerlink" href="#kubernetes-alapok" title="Permanent link">&para;</a></h1>
<h2 id="eloadas">Előadás<a class="headerlink" href="#eloadas" title="Permanent link">&para;</a></h2>
<p><a href="https://edu.vik.bme.hu/mod/resource/view.php?id=22403">Kubernetes bevezető</a></p>
<h2 id="cel">Cél<a class="headerlink" href="#cel" title="Permanent link">&para;</a></h2>
<p>A labor célja megismerni a Kubernetes használatának alapjait, a <em>podok</em>, <em>Deployment-ek</em> és <em>ReplicaSet-ek</em> létrehozását és kezelését, valamint a leggyakrabban használt <code>kubectl</code> parancsokat.</p>
<h2 id="elokovetelmenyek">Előkövetelmények<a class="headerlink" href="#elokovetelmenyek" title="Permanent link">&para;</a></h2>
<ul>
<li>Kubernetes<ul>
<li>Bármely felhő platform által biztosított klaszter</li>
<li>Linux platformon: <a href="https://kubernetes.io/docs/tasks/tools/install-minikube">minikube</a></li>
<li>Windows platformon: Docker Desktop</li>
</ul>
</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a><ul>
<li>A binárisa legyen elérhető PATH-on.</li>
</ul>
</li>
</ul>
<h2 id="feladatok">Feladatok<a class="headerlink" href="#feladatok" title="Permanent link">&para;</a></h2>
<h3 id="elokeszulet-docker-desktop-on">Előkészület Docker Desktop-on<a class="headerlink" href="#elokeszulet-docker-desktop-on" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Praktikus, ha leállítunk minden futó konténert, amire nincs szükségünk. Használhatjuk a következő parancsot PowerShell-ben: <code>docker rm -f $(docker ps -aq)</code></p>
</li>
<li>
<p>Nyissuk meg a Docker Desktop beállításait.</p>
</li>
<li>
<p>A <em>Kubernetes</em> fülön pipáljuk be az <em>Enable Kubernetes</em> opciót, és kattintsunk az <em>Apply</em>-ra.</p>
</li>
<li>
<p>Várjuk meg, amíg befejeződik a művelet.</p>
</li>
</ol>
<h3 id="kubectl-csatlakozas-a-klaszterhez">Kubectl csatlakozás a klaszterhez<a class="headerlink" href="#kubectl-csatlakozas-a-klaszterhez" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Ellenőrizzük, hogy a <code>kubectl</code> bináris elérhető-e, és tud-e csatlakozni a klaszterhez: <code>kubectl version</code></p>
<ul>
<li>A <code>kubectl</code> a CLI kliens a klaszter kezeléséhez. A Kubernetes API szerveréhez csatlakozik, annak REST API-ján keresztül végzi a műveleteket.</li>
<li>Láthatjuk mind a kliens, mind a klaszter verzió információit.</li>
</ul>
</li>
<li>
<p>A <code>kubectl</code> egy konkrét klaszterhez csatlakozik. Nézzük meg, milyen klasztereket ismer: <code>kubectl config get-contexts</code></p>
<ul>
<li>Ha több klaszterrel dolgoznánk, itt láthatnánk őket.</li>
<li>Ezek valójában egy konfigurációs fájlban vannak: <code>$HOME/.kube/config</code></li>
<li>Váltani a <code>kubectl config use-context &lt;név&gt;</code> parancssal lehet.</li>
<li>Minden parancsnál külön megadhatjuk a kontextust a <code>--context</code> kapcsolóval, de inkább az implicit contextust szoktuk használni.</li>
<li>Kontextus beállításról részletesebben <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/#kubectl-context-and-configuration">itt</a>.</li>
</ul>
</li>
</ul>
<h3 id="podok-es-nevterek-listazasa">Podok és névterek listázása<a class="headerlink" href="#podok-es-nevterek-listazasa" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Listázzuk ki a futó podokat: <code>kubectl get pod -A</code></p>
<ul>
<li>A <code>-A</code> vagy <code>--all-namespaces</code> kapcsoló az összes névtérben levő podot listázza.</li>
</ul>
</li>
<li>
<p>Ismételjük meg a <code>-A</code> kapcsoló nélkül: <code>kubectl get pod</code></p>
<ul>
<li>Ez az alapértelmezett <em>default</em> névtér podjait listázza.</li>
<li>(Az alapértelmezett névtér is a kontextus beállítása.)</li>
</ul>
</li>
<li>
<p>Nézzük meg, milyen névterek vannak: <code>kubectl get namespace</code></p>
</li>
<li>
<p>Listázzuk a podokat egy konkrét névtérben: <code>kubectl get pod -n kube-system</code></p>
</li>
</ul>
<h3 id="pod-letrehozasa">Pod létrehozása<a class="headerlink" href="#pod-letrehozasa" title="Permanent link">&para;</a></h3>
<p>A futtatás elemi egysége a pod. Indítsunk el egy podot.</p>
<ol>
<li>
<p>A létrehozáshoz podot yaml leíróban definiáljuk, és a <code>kubectl create</code> parancsnak átadjuk stdin-ről olvasva (<em>Windows Command promptban</em> adjuk ki a parancsot):</p>
<div class="highlight"><pre><span></span><code>kubectl create -f -
apiVersion: v1
kind: Pod
metadata:
  name: counter
spec:
  containers:
    - name: count
      image: ubuntu:16.04
      args: <span class="o">[</span>bash, -c, <span class="s1">&#39;for ((i=0; ;i++));do echo &quot;$i: $(date)&quot;;sleep 5;done&#39;</span><span class="o">]</span>
</code></pre></div>
<p>A végén nyomjunk egy Ctrl-Z-t a leíró befejezésének jelzéséhez.</p>
</li>
<li>
<p>A pod létrejött. Ellenőrizzük: <code>kubectl get pod</code></p>
</li>
<li>
<p>Nézzük meg a pod logjait: <code>kubectl logs counter</code></p>
<div class="admonition tip">
<p>Ha gondoljuk, tegyük hozzá a <code>-f</code> kapcsolót is (<code>kubectl logs -f counter</code>) a log követéséhez. Ctrl-C-vel léphetünk ki a log folyamatos követéséből.</p>
</div>
</li>
<li>
<p>Töröljük a podot: <code>kubectl delete pod counter</code></p>
</li>
<li>
<p>Ellenőrizzük, hogy a pod tényleg eltűnik egy kis idő múlva: <code>kubectl get pod</code></p>
<div class="admonition note">
<p>A pod törlése nem azonnali. A benne futó konténerek leállás jelzést kapnak, és ők maguk terminálhatnak. Ha ez nem történik, meg, akkor kis idő múlva megszűnteti őket a rendszer.</p>
</div>
</li>
</ol>
<h3 id="yaml-leiro-fajl">Yaml leíró fájl<a class="headerlink" href="#yaml-leiro-fajl" title="Permanent link">&para;</a></h3>
<p>A yaml leíró begépelése a fentiek szerint nem kényelmes. Tipikusan komplex pod és egyéb erőforrás definíciókkal dolgozunk. Tegyük inkább egy fájlba.</p>
<ol>
<li>
<p>Hozzunk létre egy új yaml fájt <code>createpod.yml</code> néven.</p>
<div class="admonition tip">
<p>Használhatjuk például Visual Studio Code-ot. Érdemes olyan szövegszerkesztővel dolgozni, amely ismeri a yaml szintaktikát.</p>
</div>
</li>
<li>
<p>Másoljuk be a yaml fájlba az alábbiakat.</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">counter</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">count</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu:16.04</span>
      <span class="nt">args</span><span class="p">:</span>
        <span class="p p-Indicator">[</span><span class="nv">bash</span><span class="p p-Indicator">,</span> <span class="nv">-c</span><span class="p p-Indicator">,</span> <span class="s">&#39;for</span><span class="nv"> </span><span class="s">((i=0;</span><span class="nv"> </span><span class="s">;i++));do</span><span class="nv"> </span><span class="s">echo</span><span class="nv"> </span><span class="s">&quot;$i:</span><span class="nv"> </span><span class="s">$(date)&quot;;sleep</span><span class="nv"> </span><span class="s">5;done&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>
</li>
<li>
<p>A konzolunkban navigáljunk el abba a könyvtárba, ahol a yaml fájl van.</p>
</li>
<li>
<p>Hozzuk létre a podot: <code>kubectl create -f createpod.yml</code></p>
</li>
<li>
<p>A pod létrejött. Ellenőrizzük: <code>kubectl get pod</code>, majd töröljük a podot: <code>kubectl delete pod counter</code></p>
</li>
</ol>
<h3 id="deployment-letrehozasa">Deployment létrehozása<a class="headerlink" href="#deployment-letrehozasa" title="Permanent link">&para;</a></h3>
<p>A podokat nem szoktuk közvetlenük létrehozni, hanem <em>Deployment</em>-re és <em>ReplicaSet</em>-re szoktunk bízni a kezelésüket és létrehozásukat.</p>
<ol>
<li>
<p>Hozzunk létre egy új yaml fájl <code>createdepl.yml</code> néven az alábbi tartalommal.</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">counter</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">counter</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">counter</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">count</span>
          <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu:16.04</span>
          <span class="nt">args</span><span class="p">:</span>
            <span class="p p-Indicator">[</span><span class="nv">bash</span><span class="p p-Indicator">,</span> <span class="nv">-c</span><span class="p p-Indicator">,</span> <span class="s">&#39;for</span><span class="nv"> </span><span class="s">((i=0;</span><span class="nv"> </span><span class="s">;i++));do</span><span class="nv"> </span><span class="s">echo</span><span class="nv"> </span><span class="s">&quot;$i:</span><span class="nv"> </span><span class="s">$(date)&quot;;sleep</span><span class="nv"> </span><span class="s">5;done&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>
</li>
<li>
<p>Hozzuk létre a Deployment-et: <code>kubectl apply -f createdepl.yml</code></p>
<div class="admonition info">
<p>Ezúttal nem <code>create</code>, hanem <code>apply</code> parancsot használunk. Az apply létrehozza, ha nem létezik, és módosítja az erőforrást, ha már létezik.</p>
</div>
</li>
<li>
<p>Listázzuk a Deployment-eket, ReplicaSet-eket és a podokat:</p>
<ul>
<li><code>kubectl get deployment</code></li>
<li><code>kubectl get replicaset</code></li>
<li><code>kubectl get pod</code></li>
</ul>
<p>Vegyük észre, hogy a pod neve generált, a <em>Deployment</em> és a <em>ReplicaSet</em> alapján kap automatikusan egyet.</p>
</li>
<li>
<p>Változtassuk meg a program futását: ne 5, hanem 10 másodpercenként írjuk ki az időt. Ezt a <em>Deployment</em> módosításával fogjuk megtenni. Gondolhatunk arra is, hogy a podot szerkesszük, de azt nem tehetjük meg. Egy futó pod nem cserélhető le. Ehelyett valójában egy új podot fogunk létrehozni indirekten.</p>
<ul>
<li>Írjuk át a yaml fájlban a bash parancsban a sleep-et 10-re.</li>
<li>Mentsük a fájlt.</li>
<li>Alkalmazzuk a változtatásokat: <code>kubectl apply -f createdepl.yml</code></li>
<li>Nézzük a podok változását: <code>kubectl get pod</code></li>
<li>Időzítés függően jó eséllyel látni fogjuk a régi leálló podot, és az újat is.</li>
</ul>
</li>
<li>
<p>"Lépjünk be" a futó podba egy új, interaktív shellben. Másoljuk ki a futó pod nevét, és adjuk ki a következő parancsot: <code>kubectl exec -it &lt;podnév&gt; /bin/bash</code></p>
<ul>
<li>Ahogy a docker-nél már láthattuk, egy új shell indul a pod konténerében, és ehhez csatlakozunk.</li>
<li>Ebben a shellben, ahogy natív docker esetében is, bármit megtehetünk.</li>
</ul>
</li>
<li>
<p>Töröljük a <em>Deployment</em>-et: <code>kubectl delete deployment counter</code></p>
<ul>
<li>Ez a <em>ReplicaSet</em>-et és a podokat is törölni fogja.</li>
</ul>
</li>
</ol>
<div class="admonition info">
<p>A <em>Deployment</em> szolgál az alkalmazás verziónak frissítésére, kiadására. Podok helyett leggyakrabban <em>Deployment</em>-eket definiálunk.</p>
</div>
<h3 id="kubectl-parancsok">Kubectl parancsok<a class="headerlink" href="#kubectl-parancsok" title="Permanent link">&para;</a></h3>
<p>A <code>kubectl</code> leggyakrabban használt parancsainak szerkezete: <code>kubectl &lt;ige&gt; &lt;erőforrás&gt; &lt;attribútumok&gt;</code>.</p>
<p>Az ige például:</p>
<ul>
<li><code>get</code>: listázza az erőforrásokat</li>
<li><code>create</code>: létrehoz egy erőforrást</li>
<li><code>delete</code>: töröl egy erőforrást</li>
<li><code>describe</code>: lekérdezi az erőforrás részletes állapotát</li>
<li><code>edit</code>: letölti az erőforrás leíróját, és megnyitja szövegszerkesztőben; mentés és bezárás után frissíti a klaszterben az erőforrást a módosítások alapján</li>
</ul>
<p>Az erőforrások a <code>pod</code>, <code>replicaset</code> vagy röviden <code>rs</code>, a <code>deployment</code>, stb.</p>
<p>A parancsokról <code>-h</code> kapcsolóval kaphatunk segítséget, pl. <code>kubectl describe -h</code></p>
<h3 id="dashboard-es-proxy-zas">Dashboard és proxy-zás<a class="headerlink" href="#dashboard-es-proxy-zas" title="Permanent link">&para;</a></h3>
<p>A <a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/"><em>Web UI</em> / <em>Dashboard</em></a> egy webalkalmazás, amely maga is Kubernetes alatt fut. Az alkalmazás a klaszter tartalmát jeleníti meg egy egyszerű, de könnyen áttekinthető webes felületen.</p>
<p>A dashboard alapvetően felhasználó authentikáció után érhető el. Az egyszerűség végett mi ezt most kikapcsoljuk, és authentikáció nélkül fogjuk használni.</p>
<ol>
<li>
<p>Telepítsük a dashboard-ot:</p>
<ul>
<li>
<p>Telepítsük alapbeállításokkal: <code>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/master/aio/deploy/alternative.yaml</code></p>
</li>
<li>
<p>Szerkesszünk bele a konténer argumentumaiba, hogy engedélyezzük az anonim belépést: <code>kubectl edit deployment kubernetes-dashboard --namespace kubernetes-dashboard</code></p>
<p>A parancs letölti és megnyitja a <em>deployment</em> leíróját. Keressük meg a konténer indítási argumentumait, és adjunk hozzá még két sort (ügyeljünk a megfelelő behúzásra):</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">args</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--namespace=kubernetes-dashboard</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--enable-insecure-login</span>
<span class="hll">  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--enable-skip-login</span>
</span><span class="hll">  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--authentication-mode=basic</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Csak fejlesztői gépen</p>
<p>Ez csak helyi működési módban javasolt! Most szándékosan kikerültük az authentikációt!</p>
</div>
</li>
</ul>
<div class="admonition note">
<p>Értelemszerűen a dashboard-ot csak egyszer kell egy klaszterbe telepíteni.</p>
</div>
</li>
<li>
<p>Adjunk egy pár másodpercet a felállásra. Nézzük meg, hogy rendben fut-e: <code>kubectl get pods -n kubernetes-dashboard</code></p>
<div class="admonition success">
<p>Akkor jó, ha a <em>kubernetes-dashboard-...</em> nevű pod <em>running</em> állapotban van.</p>
</div>
</li>
<li>
<p>A webalkalmazás csak a klaszteren belül érhető el egyelőre. Látni fogjuk később, hogyan tudunk a klaszteren kívülre "publikálni". Egyelőre azonban egy másik, fejlesztéshez kényelmesen használható megoldást alkalmazunk. Nyissunk egy <strong>új</strong> konzolt, és adjuk ki a <code>kubectl proxy</code> parancsot.</p>
<ul>
<li>
<p>A futó proxy folyamatos kapcsolatot tart fenn a klaszterrel, és a Kubernetes Api szervert használja "belépési pontnak". Az proxy a helyi 8081 portra küldött kéréseket továbbítja a klaszteren belülre az URL alapján.</p>
</li>
<li>
<p>Ez a proxy nem csak helyben futtatott klaszterrel használható. Ha a felhőben, tőlünk távol fut a klaszter, ugyanígy tudunk vele kommunikálni.</p>
</li>
</ul>
</li>
<li>
<p>Nyissuk meg böngészőben: <a href="http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/kubernetes-dashboard:/proxy/">http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/kubernetes-dashboard:/proxy/</a></p>
<ul>
<li>
<p>Értelmezzük az URL-t:</p>
<ul>
<li><code>localhost:8001</code>: a proxy helyi portja</li>
<li><code>/api/v1</code>: Kubernetes Api verzió, ez mindig így néz ki</li>
<li><code>/namespaces/kubernetes-dashboard</code>: a <em>kubernetes-dashboard</em> névtérben szeretnénk elérni egy elemet</li>
<li><code>/services/kubernetes-dashboard:</code> a névtéren belül a service-ek közül a <em>kubernetes-dashboard</em> nevű szolgáltatást szeretnénk elérni</li>
<li><code>/proxy</code>: kérjük az erőforrás proxy-zását (ez mindig így néz ki)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Ismerkedjünk meg a dashboard webes felületével:</p>
<ul>
<li>Nézzük meg a bal oldali menü elemeit.</li>
<li>Válasszunk névteret.</li>
<li>Nézzük meg a podokat.</li>
</ul>
</li>
</ol>
<h3 id="pod-replicaset-deployment-service-kapcsolata">Pod - ReplicaSet - Deployment - Service kapcsolata<a class="headerlink" href="#pod-replicaset-deployment-service-kapcsolata" title="Permanent link">&para;</a></h3>
<p>Használjuk a dashboard-ot a következőkhöz. A feladatban végig a <em>kubernetes-dashboard</em> névtérben dolgozunk.</p>
<ol>
<li>
<p>Keressük ki a "kubernetes-dashboard" nevű service-t.</p>
</li>
<li>
<p>Nézzük meg a service adatait, kifejezetten a "Pods" részt. Emlékezzünk arra, hogy a service teszi elérhetővé podok szolgáltatásait/végpontjait. A service-nek tehát tudnia kell, mely podok "állnak mögötte". Ezt látjuk a "Pods" listában.</p>
</li>
<li>
<p>Skálázzuk fel a dashboard-ot, futtassunk két példányt.</p>
<ul>
<li>Keressük meg a "kubernetes-dashboard" deployment-et.</li>
<li>A webes felület tetején a kék színű sorban a jobb oldalon keressük meg a skálázás ikont.</li>
<li>Nyissuk meg, és kérjünk 3 példányt.</li>
</ul>
</li>
<li>
<p>Nézzük meg a podok listáját. Lássuk, hogy most már 3 "kubernetes-dashboard-" névvel kezdődő pod lesz.</p>
</li>
<li>
<p>Térjünk vissza a "kubernetes-dashboard" service-hez. Nézzük meg, hogyan van összekötve a podokkal.</p>
<ul>
<li>Nézzük meg a podokat. Vegyük észre, hogy a service "észrevette", hogy most már 3 pod felett rendelkezik.</li>
<li>Nézzük meg a service leíróját. A webes felületen a kék sárban a ceruza ikonra kattintsunk.</li>
<li>
<p>Keressük meg a <code>spec</code> leíróban a <code>selector</code>-t.</p>
<div class="highlight"><pre><span></span><code><span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span> <span class="c1"># service elem neve</span>
  <span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">...</span>
  <span class="l l-Scalar l-Scalar-Plain">selector</span><span class="p p-Indicator">:</span>
<span class="hll">    <span class="nt">k8s-app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span> <span class="c1"># label, amelyet a podokon keres</span>
</span></code></pre></div>
<p>Ez a service azon podok felé osztja szét a kéréseket, amelyek a <em>k8s-app</em> címkében <em>kubernetes-dashboard</em> értékkel rendelkeznek.</p>
</li>
<li>
<p>Nézzük meg a podban ugyanezt. A service alatt bármelyik podra kattintva navigáljunk el a podhoz, és kérjük le a leíróját az előbbiek szerint. Keressük meg a pod metaadataiban a fenti labelt.</p>
<div class="highlight"><pre><span></span><code><span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard-57c9d8c7c4-z98z2</span> <span class="c1"># pod saját, generált neve</span>
  <span class="nt">labels</span><span class="p">:</span>
<span class="hll">    <span class="nt">k8s-app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span> <span class="c1"># pod címkéje, amivel a service rátalál</span>
</span></code></pre></div>
</li>
</ul>
</li>
<li>
<p>A pod oldalán maradva keressük meg a "Controlled by" részt. Láthatjuk, hogy a podot egy ReplicaSet kezeli. Menjünk a ReplicaSet-hez. Nyissuk meg a ReplicaSet leíróját is.</p>
<div class="highlight"><pre><span></span><code><span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicaSet</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">extensions/v1beta1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard-57c9d8c7c4</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">k8s-app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span> <span class="c1"># ReplicaSet címkéje, amivel a felette álló Deployment azonosítja őt</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span> <span class="c1"># ennyi replikát kértünk</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">k8s-app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span> <span class="c1"># Label, amivel a podjait azonosítja</span>
  <span class="nt">template</span><span class="p">:</span> <span class="c1"># pod definiálásához használt template, minden pod ez alapján jön létre</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">k8s-app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span>
        <span class="c1"># amikor a ReplicaSet létrehoz egy podot, ezt a címkét teszi rá</span>
        <span class="c1"># meg kell egyezzen pár sorral feljebb a selector-ban definiálttak</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span> <span class="c1"># leírja a podban a konténert</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes-dashboard</span>
          <span class="nt">image</span><span class="p">:</span> <span class="s">&quot;kubernetesui/dashboard:v2.0.3&quot;</span>
          <span class="nt">args</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;--namespace=kubernetes-dashboard&quot;</span>
          <span class="nt">ports</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9090</span>
              <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
</code></pre></div>
<div class="admonition info">
<p>Ha még eggyel "feljebb" lépünk, a ReplicaSet-ből a Deployment-be, hasonló összekapcsolást találnánk.</p>
</div>
</li>
</ol>
<h3 id="pod-ujrainditasa">Pod "újraindítása"<a class="headerlink" href="#pod-ujrainditasa" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Maradva a <em>kubernetes-dashboard</em> névtérben listázzuk a podokat.</p>
</li>
<li>
<p>Válasszunk ki egy dashboard podot, és töröljük. A pod sor végén a ... ikon alatt válasszuk a <em>Delete</em>-et.</p>
</li>
<li>
<p>Várjunk egy pár másodpercet, és frissítsünk rá az oldalra.</p>
</li>
<li>
<p>Egy új pod született. Az <em>Age</em> oszlop alapján láthatjuk. (Lehet, hogy a töröltet is látjuk még, leállás alatt.) Ez a ReplicaSet feladata: garantálni, hogy legyen 3 példány.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Újraindítás</p>
<p>A pod törlése megfelel egy komponens újraindításának. Ha több példányunk van, akkor mindegyiket kézzel tudjuk így törölni. Ez persze csak akkor működik, ha a pod felett van egy controller, ami szükség szerint létrehozza az új podokat.</p>
</div>
<h2 id="tovabbi-olvasnivalo">További olvasnivaló<a class="headerlink" href="#tovabbi-olvasnivalo" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://12factor.net/">The twelve-factor app</a>: modern webszolgáltatások fejlesztése (nem csak Kubernetes)</li>
<li>Bilgin Ibryam, Roland Huss - Kubernetes Patterns: Reusable Elements for Designing Cloud Native Applications, O'Reilly, 2019</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
        <div class="md-footer-copyright__highlight">
          Copyright &copy; BME AUT
        </div>
        
      </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "search.config.lang": "hu", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Keres\u00e9s", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>